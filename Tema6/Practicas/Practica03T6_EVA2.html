<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Práctica 3</title>

        <style>
            .contenidoInquietante{
                color: crimson;
                font-size: 1.5em;
                font-weight: bold;
                box-shadow: 10px 10px 10px black;
            }
        </style>
    </head>
    <body>
        <h2>Esta es la introducción a la adolescencia.</h2>
        <p>Hablar sobre El Sexo es bastante habitual.</p>
        <p>Hay que estudiar diariamente para que no te suceda lo que a tu primo.</p>
        <p>Si has tenido sexo, no debes dejarte llevar, hay cosas más importantes que eso.</p>

        <input type="button" name="bloquearContenido" value="Bloquear contenido" onclick="bloquearContenido()">

        <script>
            //console.log(document.body.children);

            function bloquearContenido(){
                //Obtenemos en una variable el elemento body.
                let body = document.body;

                /*Se recorren los elementos hijo del body mediante su longitud menos 1. Esto evita que 
                se supervise la etiqueta <script> que, al ser el último elemento del body también se 
                incluye y contiene la palabra "sexo" en la función y por tanto, añadiría un nuevo 
                párrafo reemplazando el elemento <script>.*/
                for(let i = 0; i<body.children.length - 1; i++){
                    //Obtenemos el elemento hijo de body actual y su texto en minúsculas.
                    let elementoActual = body.children[i];
                    let textoElemento = elementoActual.textContent.toLowerCase();

                    //Si el texto del elemento incluye la palabra "sexo":
                    if(textoElemento.includes("sexo")){
                        //Creamos un elemento <p> contenidoInquietante.
                        let contenidoInquietante = document.createElement("p");
                        //Añadimos el texto y la clase CSS al elemento.
                        contenidoInquietante.textContent = "Contenido bloqueado";
                        contenidoInquietante.classList.add("contenidoInquietante");

                        //Mediante replaceChild() reemplazamos el elemento actual por el nuevo elemento.
                        body.replaceChild(contenidoInquietante, elementoActual);
                    }
                }
            }
        </script>
    </body>
</html>