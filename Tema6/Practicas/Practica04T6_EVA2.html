<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Práctica 04</title>
    </head>
    <body>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Mollitia, amet. Sunt fuga nisi tenetur quo est ipsa dicta nulla reprehenderit, earum molestias. Voluptates, assumenda. Quod repellendus in iure accusamus alias.</p>
        <p>Molestiae delectus, modi eveniet repudiandae optio voluptatum nobis vero incidunt eaque, natus dolorum possimus, in voluptates consectetur ea. Praesentium excepturi unde possimus ducimus fuga velit ipsum quaerat nemo quos? Cumque.</p>
        <p>Voluptate tempore nobis doloremque quam nam illum animi recusandae facere atque, soluta excepturi sed, sint sit eum consectetur. Qui, illo id. Ipsa ipsam ea rem perspiciatis sint porro quae saepe.</p>
        <p>Nisi quia corporis voluptates, debitis, provident alias veritatis dolores odio quibusdam natus ratione esse. Eaque aperiam delectus vero quisquam praesentium. Animi officiis assumenda porro, facere repellat voluptas? Quibusdam, ratione esse!</p>
        <p>Debitis eaque, ea iusto reprehenderit dolore nulla corrupti deserunt voluptate esse non sit maxime iure eos nesciunt quibusdam numquam maiores repellendus rerum unde earum architecto. Distinctio beatae vel fuga tempore?</p>
        <p>Aut atque, et excepturi sint temporibus eius, hic ut cum eligendi quibusdam, nihil porro perferendis optio eaque nobis deserunt est cumque quos libero repellat voluptatum illo cupiditate tenetur amet. Corrupti.</p>
        <p>Esse nostrum hic consectetur quam repellat accusantium delectus, veniam error ullam vitae cupiditate natus aspernatur non aut vero! Mollitia officia voluptate aut quas aliquam voluptas labore minus quis neque fugiat!</p>
        <p>Est laboriosam mollitia labore, error distinctio alias magni sapiente autem nisi voluptas, vel libero iure odio placeat amet fugiat. Velit, molestias quidem? Nobis labore perferendis repellendus suscipit iure. Doloremque, facere?</p>
        <p>Cumque unde quia non, quas est veritatis laborum asperiores sint quis, eius nam consequatur! Vel deleniti harum illum eos. Aut ullam laboriosam vitae qui alias cupiditate inventore rerum voluptate obcaecati!</p>
        <p>Necessitatibus libero fuga, natus possimus molestias sit, et magnam, praesentium doloribus officiis quasi. Velit, ipsa possimus aliquam architecto, adipisci deleniti numquam officiis veritatis amet rem cumque excepturi ipsum aut voluptatum?</p>
        <p>Tenetur hic fuga id? A beatae blanditiis veritatis? Nostrum laudantium velit minima ipsam vel quae! Exercitationem sequi quam libero eveniet rem corporis quo. Reiciendis iste quis nostrum nesciunt id? Ex?</p>
        <p>Perferendis omnis pariatur aperiam repudiandae soluta cumque ex ea sit nam possimus! Enim vero incidunt ex quia, doloremque non nesciunt ipsam quae. Animi, facilis esse quisquam ipsam magni laboriosam placeat.</p>
        <p>Totam suscipit maxime praesentium, odio voluptatibus assumenda cum vel sequi, facere ipsum obcaecati veniam fugiat hic. Aut maxime nobis doloremque dicta, nisi, cupiditate repudiandae eveniet incidunt eius provident officia labore!</p>
        <p>Qui aliquid odio ea distinctio saepe voluptas ad similique, nisi aliquam rem est quasi hic voluptates atque omnis unde dolor aperiam recusandae quia dolorem ipsa obcaecati fuga! Temporibus, quisquam mollitia.</p>
        <p>Eius pariatur aspernatur et cumque magni facilis possimus repellendus, ratione nisi nam libero dolore vel veritatis exercitationem eveniet, dicta distinctio laudantium assumenda adipisci alias? Quasi magnam omnis rem pariatur ratione.</p>
        <p>Ipsam, labore harum id iste eligendi deleniti totam molestiae quasi cupiditate ab quos consectetur quia explicabo corporis nesciunt tempore doloremque commodi doloribus! Incidunt, distinctio quia aperiam minus dolores ipsam corporis.</p>
        <p>Deserunt animi, corrupti, facere esse beatae sed, labore quasi ipsum reiciendis placeat minima illo accusamus autem perferendis temporibus consequatur. Necessitatibus harum at itaque accusamus ab aperiam quia enim ipsum repellendus.</p>
        <p>Maxime consectetur voluptatum nam dolorem in nisi inventore exercitationem sit nihil suscipit laborum quod accusamus, sed ullam culpa laudantium. Deserunt, eos rem excepturi explicabo nobis recusandae nam dolore aperiam provident.</p>
        <p>Assumenda voluptate rem molestiae vel quidem ab fugiat ullam dignissimos consectetur earum. Labore quaerat corrupti magnam harum officia fugiat, nihil enim quibusdam beatae quia, ea amet cumque, praesentium autem deleniti?</p>
        <p>Facilis, aspernatur! Quae molestias ipsam aut at quod, dignissimos vitae nulla esse? Aperiam, dolorum beatae? Vel amet quas adipisci architecto dolores animi neque quod incidunt fuga! Non perspiciatis nulla exercitationem.</p>
        <p>Saepe aliquid tenetur officia? Laudantium enim, odio quas corrupti similique suscipit quasi debitis ipsam, quaerat, quam nobis tempore cupiditate tenetur sequi magni error placeat ratione. Magnam blanditiis expedita officia atque?</p>
        <p>Dolorum facere cum eos quasi molestias tenetur quaerat voluptate corrupti. Autem ullam accusamus ab architecto quisquam! Sit, in porro reiciendis rem mollitia nisi, minima, cupiditate necessitatibus ducimus neque earum? Minima!</p>
        <p>Rerum unde earum possimus fugit odit vel, nam est sunt beatae error eligendi molestiae ab architecto! Quas officia repellendus qui facilis adipisci, perferendis omnis reiciendis, fugiat hic minus ad veniam.</p>
        <p>Culpa dolore repellat laborum nostrum sunt harum mollitia quidem error aperiam sit cupiditate placeat adipisci, doloremque ducimus id? Minima laborum cupiditate omnis. Deleniti quibusdam in nisi ad animi nam autem!</p>
        <p>Neque nam perspiciatis, laborum dicta asperiores ipsam recusandae autem similique delectus natus facilis placeat quas vero tempora non at corporis nobis praesentium reiciendis maiores fuga voluptatibus animi modi quasi. Nobis!</p>
        <p>Minima repellendus quam non ex at quisquam iure porro quos perferendis atque. Aliquid illo incidunt in ex exercitationem, fuga enim accusamus laborum! Quasi, nobis quos ex quis sapiente possimus officiis.</p>
        <p>Enim vero libero quisquam, vitae corrupti dolorum beatae id sapiente esse pariatur minus molestias asperiores perferendis atque ullam iusto nisi exercitationem porro possimus ea voluptatum cum magni. Cum, cupiditate tempore.</p>
        <p>Fuga obcaecati velit laudantium facilis corrupti beatae pariatur nostrum accusamus asperiores. Amet veniam adipisci numquam, suscipit, eum alias deserunt tempore id at ipsum veritatis dolorem quisquam voluptas reprehenderit rerum sed.</p>
        <p>Deleniti veritatis magnam adipisci molestias ducimus molestiae rem quis. Nisi cupiditate sapiente vero rem qui adipisci beatae odio sint ipsa aliquam harum mollitia, fugiat atque praesentium nesciunt sit animi? Doloremque.</p>
        <p>Exercitationem recusandae odio repellendus temporibus modi. Soluta deleniti nisi accusamus id quo sint consequatur pariatur velit eius debitis, recusandae mollitia saepe repellat porro architecto! Neque facere officiis officia perferendis doloribus?</p>
        <p>Aliquid, molestiae. Quasi omnis doloribus magnam aliquid reprehenderit ratione rerum? Officiis nobis maiores cupiditate dignissimos, assumenda sunt eveniet minima velit, earum nostrum, doloremque saepe explicabo. Nulla nostrum atque distinctio eos.</p>
        <p>Quidem laudantium hic debitis alias quia quos vel voluptas mollitia non dolore harum officia repudiandae, asperiores impedit deserunt tempora quam aperiam! At expedita, tenetur sint possimus minima molestiae ullam. Iusto.</p>
        <p>Dignissimos omnis corporis delectus illum voluptas labore suscipit, veniam magni nisi explicabo aut asperiores optio at itaque quibusdam quis obcaecati consequatur. Nesciunt tempore ab debitis at quae, et libero culpa?</p>
        <p>Nobis nulla, suscipit aliquam dolor quisquam animi, consequatur ullam illo voluptate necessitatibus alias doloremque natus eveniet accusamus, molestias harum hic aperiam impedit repudiandae? Earum quis illo aperiam expedita quas maxime.</p>
        <p>Labore, illum iusto! Aliquid tempore corporis tempora cum adipisci officia ipsam illo. Unde, ipsum cum aspernatur repellat tempora quod esse id ea, officiis natus est accusantium sequi officia consequatur numquam.</p>
        <p>Quasi repudiandae itaque, cumque ullam rem incidunt tenetur illo, minima saepe id autem voluptatum maiores, placeat est quam. Fuga ad doloremque fugit ullam ea ipsa! Id doloremque est soluta tempore!</p>
        <p>Sit eveniet debitis facilis dicta similique eligendi dolorem voluptate cumque, quo maxime sequi iste ea cupiditate fugit itaque asperiores. Tempora vero necessitatibus, nostrum fugit incidunt rem! Doloremque modi ducimus esse!</p>
        <p>Possimus in quas dignissimos repudiandae reiciendis, culpa maiores laboriosam eaque aperiam non omnis fugiat sed nobis modi magni veniam numquam nam earum natus atque nemo! Neque nemo ipsa earum aliquam.</p>
        <p>Molestias dolore fugit suscipit ad, magnam ex distinctio exercitationem ut aliquid sequi provident dolorem velit tempora accusantium aut facere atque reiciendis beatae natus quos modi libero! Esse labore dolor magnam?</p>
        <p>Officiis a consequuntur voluptatibus vitae tenetur quod sunt obcaecati ipsa vero, iste reiciendis atque nulla maiores illum neque explicabo laborum sequi perspiciatis magni quisquam est repudiandae voluptatem! Assumenda, eaque quos.</p>
        <p>Molestias nihil facilis perferendis quaerat, veniam veritatis voluptatibus nesciunt consequuntur corporis incidunt repudiandae earum accusantium impedit placeat nulla, officiis sunt! Porro quibusdam sint tempora quo laudantium. Tempora eum minus nemo.</p>
        <p>Assumenda, repellat mollitia quas repudiandae voluptas eaque quod totam a molestias neque veniam dolorem, provident consectetur deserunt eligendi fugit id consequuntur? Recusandae eos ipsum deleniti optio quidem quas repudiandae quis?</p>
        <p>Perspiciatis unde, asperiores veritatis minima necessitatibus natus cupiditate a dolores ea. Possimus ullam rerum nulla sint iusto, magnam molestias beatae, voluptate, voluptatibus perspiciatis laborum quaerat velit dolorum consequatur sit rem?</p>
        <p>Eaque soluta reiciendis saepe impedit, debitis dignissimos fugit eligendi suscipit. Vero asperiores distinctio nesciunt nulla repudiandae illum! Optio, sequi sint voluptate quis architecto dolorum neque minus obcaecati necessitatibus, enim quae.</p>
        <p>Quam nobis dignissimos eaque aperiam veniam facilis praesentium aut? Ad cum dolorum quasi itaque cupiditate quisquam sunt a soluta laboriosam asperiores, totam et incidunt porro, ut impedit. Nemo, officia voluptatem?</p>
        <p>Repellendus, hic rem. Unde fuga nisi, sapiente quisquam totam veniam dolore sit aut voluptas voluptatum adipisci labore corporis esse culpa odit aperiam numquam eum distinctio dicta, ab cupiditate quas. Odit!</p>
        <p>Provident corporis ea aperiam nam perferendis tempore non, voluptatibus vel, illo ipsam est tenetur dolores saepe accusantium, cum sunt. Optio iusto minus quis magni molestias veniam quod alias iure tempora!</p>
        <p>Velit officia iste cumque nostrum perspiciatis dolores blanditiis facere maxime, architecto corrupti aliquid incidunt hic impedit illo et voluptatem sint quo ea doloremque fugit sed quam quasi voluptates earum. Fuga.</p>
        <p>Necessitatibus quas qui recusandae, officiis quaerat, quis ipsam consequuntur possimus aliquid iusto culpa, eum error beatae minus. Excepturi, nostrum. Quos modi dolorem animi, obcaecati soluta sapiente molestias saepe earum labore.</p>
        <p>Impedit ullam, eveniet iusto, assumenda accusamus consequuntur ut nulla animi exercitationem, odit at consequatur est non obcaecati commodi molestiae quasi. Assumenda blanditiis magnam debitis libero sunt nam harum exercitationem nostrum!</p>

        <script>
            //Obtenemos en una variable el elemento body.
            let body = document.body;
            let textoDocumento = "";

            /*Esta función devuelve en una variable todo el contenido
            textual de los elementos p del documento.*/
            function obtenerTextoDocumento(){
                /*Se recorren los elementos hijo del body mediante su longitud menos 2. Esto evita 
                que se supervise la etiqueta <script>.*/
                for(let i = 0; i<body.children.length - 1; i++){

                    //Obtenemos el elemento hijo de body actual y su texto en minúsculas.
                    let elementoActual = body.children[i];

                    //Si el elemento es de tipo p:
                    if(elementoActual.nodeType = "p"){
                        //Obtenemos el contenido del elemento.
                        let textoElemento = elementoActual.textContent.toLowerCase();

                        //Añadimos el texto del elemento a la variable.
                        textoDocumento += textoElemento;
                    }
                }

                return textoDocumento;
            }

            /*Esta función usa indexOf que devuelve -1 si no encuentra la cadena, en este 
            caso espacios dobles o triples en la posición actual del texto. Si el valor se 
            encuentra se reemplaza por un solo espacio. Devuelve el texto con espacios simples.*/
            function eliminarEspaciosMultiples(texto){
                //Se reemplazan los espacios dobles.
                while(texto.indexOf("  ") != -1){
                    texto = texto.replace("  ", " ");
                }

                //Se reemplazan los espacios triples.
                while (texto.indexOf("   ") !== -1) {
                    texto = texto.replace("   ", " ");
                }

                return texto;
            }

            /*Esta función cuenta el número de espacios en el texto.*/
            function contarPalabras(texto){
                let numeroEspacios = 0;

                for(let i = 0; i < texto.length; i++){
                    if (texto[i] == " ") {
                        numeroEspacios++;
                    }
                }

                //Se suman dos por la primera palabra y la última.
                return numeroEspacios + 2;
            }
            
            textoDocumento = obtenerTextoDocumento();
            textoDocumento = eliminarEspaciosMultiples(textoDocumento);

            let resultado = document.createElement("strong");
            resultado.textContent = `Número de palabras en el texto: ${contarPalabras(textoDocumento)}`;

            //Obtenemos el primer elemento del body.
            let primerElemento = body.firstChild;
            
            //Añadimos el elemento resultado antes del primer elemento.
            body.insertBefore(resultado, primerElemento);
        </script>
    </body>
</html>