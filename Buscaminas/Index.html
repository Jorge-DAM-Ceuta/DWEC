<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./Style/Style.css">
        <title>Buscaminas</title>
    </head>
    <body>
        <script src="./Script/Juego.js"></script>
        <script>
            var numeroFilas;
            var numeroColumnas;
            var numeroMinas;

            //Las filas y columnas deben ser entre 10 y 20.
            while(isNaN(numeroFilas) || numeroFilas < 10 || numeroFilas > 20){
                numeroFilas = prompt("Introduce un número de filas entre 10 y 20: ");
            }

            while(isNaN(numeroColumnas) || numeroColumnas < 10 || numeroColumnas > 20){
                numeroColumnas = prompt("Introduce un número de columnas entre 10 y 20: ");
            }

            //Comprobamos que el número de minas no supere ambas excepciones.
            var maximoMinas1 = numeroColumnas * numeroFilas / 3;
            var maximoMinas2 = numeroColumnas * numeroFilas * 2 / 3;

            while(isNaN(numeroMinas) || numeroMinas >= maximoMinas1 || numeroMinas > maximoMinas2){
                numeroMinas = prompt("Introduce un número de minas a colocar: ");
            }

            //Se crea un objeto de la clase Buscaminas.
            var tablero = new Buscaminas();

            //Se asignan los tres valores obtenidos por prompt().
            tablero.setNumFilas(numeroFilas);
            tablero.setNumColumnas(numeroColumnas);
            tablero.setNumMinas(numeroMinas);

            //Se rellena el tablero con las dimensiones dadas en filas y columnas con espacios en blanco.
            tablero.rellenarTablero();

            //Se colocan tantas minas como numeroMinas aleatoriamente.
            tablero.colocarMinas();

            //Se obtienen las posiciones de las minas y se colocan los números de proximidad.
            tablero.colocarNumeros();

            //Se imprime el tablero por pantalla.
            tablero.dibujarTablero();

        </script>
    </body>
</html>