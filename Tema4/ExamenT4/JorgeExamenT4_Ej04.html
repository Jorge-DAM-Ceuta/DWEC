<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ejercicio 4</title>
    </head>
    <body>
        <script>
            document.write(`<button onClick="setInterval(bucle, 2000)">Inicio</button>`);    

            json = `{
                "personajes": [
                    {"nombre": "Éric","apellidos": "artman","profesión": "Estudiante","edad": 13},
                    {"nombre": "Stan","apellidos": "Marsh","profesión": "Estudiante","edad": 9},
                    {"nombre": "Kyle","apellidos": "Broflovski","profesión": "Estudiante","edad": 9},
                    {"nombre": "Kenny","apellidos": "McCormick","profesión": "Estudiante","edad": 13},
                    {"nombre": "útters","apellidos": "Stotch","profesión": "Estudiante","edad": 9},
                    {"nombre": "Úendy","apellidos": "Testaburger","profesión": "Estudiante","edad": 12},
                    {"nombre": "Randy","apellidos": "arsh","profesión": "Geólogo","edad": 45},
                    {"nombre": "Sharon","apellidos": "Marsh","profesión": "Recepcionista","edad": 42},
                    {"nombre": "Chef","apellidos": "","profesión": "Cocinero","edad": 45},
                    {"nombre": "Mr. Garrison","apellidos": "","profesión": "Maestro","edad": 50},
                    {"nombre": "Mr. Mackey","apellidos": "","profesión": "Consejero escolar","edad": 45},
                    {"nombre": "Ms. Choksondik","apellidos": "","profesión": "Maestra","edad": 40},
                    {"nombre": "Tweek","apellidos": "Tweak","profesión": "Estudiante","edad": 9},
                    {"nombre": "Craig","apellidos": "Tucker","profesión": "Estudiante","edad": 15},
                    {"nombre": "Token","apellidos": "Black","profesión": "Estudiante","edad": 12},
                    {"nombre": "bebe","apellidos": "Évens","profesión": "Estudiante","edad": 9},
                    {"nombre": "Clyde","apellidos": "Donovan","profesión": "Estudiante","edad": 12},
                    {"nombre": "Timmy","apellidos": "burch","profesión": "Estudiante","edad": 9},
                    {"nombre": "Jimmy","apellidos": "Valmer","profesión": "Estudiante","edad": 9},
                    {"nombre": "Heidi","apellidos": "Turner","profesión": "Estudiante","edad": 12}
                ]
            }`;

            //Obtenemos el objeto JSON.
            var datos = JSON.parse(json);

            function bucle(json){
                var personajes = datos.personajes;
                   
                personajes.forEach(function(valor, indice){
                    document.write(`Nombre: ${valor.nombre}, Apellidos: ${valor.apellidos}, Profesión: ${valor.profesión}, Edad: ${valor.edad}<br/>`);
                });

                document.write(`<button action="clearInterval('')">Para</button>`); 
            }

        </script>

        
    </body>
</html>