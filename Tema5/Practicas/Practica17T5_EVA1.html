<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pr√°ctica 17</title>
    </head>
    <body>
        <script>
            let miJSON = 
            `{
                "idPedido":"faa-8444",
                "pedidos":[
                    {"idProducto":"info005","nombre":"Placa_Arduino_one","destPostal":"Abarcable"},
                    {"idProducto":"info041","nombre":"Placa_Raspberry_3","destPostal":"No abarcable"},
                    {"idProducto":"gadget024","nombre":"usb_Multi_5puertos","destPostal":"Abarcable"}
            ]}`;

            var map = new Map(Object.entries(JSON.parse(miJSON)));

            document.write(`<h2>idPedido: ${map.get("idPedido")}</h2>`);
            
            document.write(`<table border='1'>`);
            document.write(`<tr><th>idProducto</th><th>Nombre</th><th>destPostal</th></tr>`);

            for(pedido of map.get("pedidos")){
                if(pedido.destPostal == "Abarcable"){
                    document.write(`<tr style="background-color: rgb(65, 240, 30)";><td>${pedido.idProducto}</td><td>${pedido.nombre}</td><td>${pedido.destPostal}</td></tr>`);
                }else{
                    document.write(`<tr style="background-color: rgb(240, 45, 40)";><td>${pedido.idProducto}</td><td>${pedido.nombre}</td><td>${pedido.destPostal}</td></tr>`);
                }
            }

            document.write(`</table>`);

            console.log(map);
        </script>
    </body>
</html>